{% extends 'Review/base.html' %}

{% block title %}Facilities | Utility Website{% endblock %}

{% block content %}
<<<<<<< Updated upstream


<section class="py-5">
    <div class="container py-5">
        <div class="row mb-4 mb-lg-5">
            <div class="col-md-8 col-xl-6 text-center mx-auto">
                <p class="fw-bold text-success mb-2">BUILDING LIST</p>
                <h2 class="fw-bold">All BUILDING</h2>
            </div>
        </div>
        <div class="row row-cols-2 row-cols-md-3 mx-auto" style="max-width: 700px;">
            <div class="col mb-4">
                <div class="text-center">
                    <a href = "{% url 'gallery' %}"><img class="rounded mb-3 fit-cover" width="175" height="175" src="/static/img/building1.jpg" /></a>
                    <h5 class="fw-bold mb-0"><strong>Gallery</strong></h5>
                    <p class="text-muted mb-2">introduction---------------------------------------------------------------</p>
                </div>
            </div>
            <div class="col mb-4">
                <div class="text-center">
                    <a href = "{% url 'gallery' %}"><img class="rounded mb-3 fit-cover" width="175" height="175" src="/static/img/building1.jpg" /></a>
                    <h5 class="fw-bold mb-0"><strong>John Smith</strong></h5>
                    <p class="text-muted mb-2">introduction</p>
                </div>
            </div>
            <div class="col mb-4">
                <div class="text-center">
                    <a href = "{% url 'gallery' %}"><img class="rounded mb-3 fit-cover" width="175" height="175" src="/static/img/building1.jpg" /></a>
                    <h5 class="fw-bold mb-0"><strong>John Smith</strong></h5>
                    <p class="text-muted mb-2">introduction</p>
                </div>
            </div>
            <div class="col mb-4">
                <div class="text-center">
                    <a href = "{% url 'gallery' %}"><img class="rounded mb-3 fit-cover" width="175" height="175" src="/static/img/building1.jpg" /></a>
                    <h5 class="fw-bold mb-0"><strong>John Smith</strong></h5>
                    <p class="text-muted mb-2">introduction</p>
                </div>
            </div>
            <div class="col mb-4">
                <div class="text-center">
                    <a href = "{% url 'gallery' %}"><img class="rounded mb-3 fit-cover" width="175" height="175" src="/static/img/building1.jpg" /></a>
                    <h5 class="fw-bold mb-0"><strong>John Smith</strong></h5>
                    <p class="text-muted mb-2">introduction</p>
                </div>
            </div>
            <div class="col mb-4">
                <div class="text-center">
                    <a href = "{% url 'gallery' %}"><img class="rounded mb-3 fit-cover" width="175" height="175" src="/static/img/building1.jpg" /></a>
                    <h5 class="fw-bold mb-0"><strong>John Smith</strong></h5>
                    <p class="text-muted mb-2">introduction</p>
                </div>
            </div>
            </div>
        </div>
    </div>
</section>
=======
<style>
    .comment-container {
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        margin: auto;
    }
    
    .building-information-item{
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        width: 100%;
    }

    .building-picture{
        width: 80%;
        height: 80%;
        margin: auto;
        text-align: center;
    }
    .building-name{
        position: absolute;
        right: 10%;
        bottom: 0;
        padding: 0.5rem 1rem;
        background: rgba(0, 0, 0, 0.8);
        color: white;
        font-size: 18px;
    }
    .form_control{
        width: 100%;
        margin: 0 auto;
    }
    .comment-container p {
        width: 100%;
        text-align: center;
    }
    
</style>

{#<h2>Buildings Page</h2>#}
>>>>>>> Stashed changes
<!-- Content specific to the Buildings page -->
    <div class="template-page-container">
        {% for building in buildings %}
        <div class="building-information-item">
            <a href="{% url 'building_profile' building.slug %}" style="display: flex; position: relative; width: 100%; height: max-content">
                <img src="{{ building.image.url }}" class = building-picture alt="{{ building.name }}">
                <p class="building-name">{{ building.name }}</p>
            </a>
             <form method="post" action="{% url 'buildings' %}" style="margin-top: 12px; width: 80%;" class="comment-container">
                {% csrf_token %}
                {{ comment_form.as_p }}
                <input type="hidden" name="building_id" value="{{ building.id }}">

                <button type="submit" class="building-submit">Submit Comment</button>
            </form>
            <div class="divider"></div>
        </div>
        {% endfor %}

        {% for comment in building.comments.all %}
            <div>
                <img src="{{ comment.author.profile.picture.url }}" alt="User profile picture">
                <div>{{ comment.author.username }}: {{ comment.text }}</div>
            </div>
        {% endfor %}
        {% if user.is_authenticated %}
            <a href="{% url 'new_building' %}" class="building-submit add-new-btn">Add a new Facility</a>
        {% endif %}
    </div>



{% endblock %}
